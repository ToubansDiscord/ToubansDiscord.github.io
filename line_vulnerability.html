<!DOCTYPE html>
<html lang="ja" dir="ltr">
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="./main.css">
        <link rel="icon" href="./favicon.ico">
        <style>
        article {
            text-align: left;
            width: 75%;
            position: relative;
            right: -15%;
        }
        main article > p {
            text-indent: 2em;
        }
        </style>
        <title>LINE Versionの脆弱性 - Toubans! Discord Version</title>
    </head>
    <body>
        <header class="menu">
            <span class="logo">
                <img src="./img/Toubans_rg.png" width="60px" height="60px">
            </span>
            <span class="title">
                Toubans! Discord Version
            </span>
            <nav class="navigation">
                <ul>
                    <li><a href="./index.html">HOME</a></li>
                    <li><a href="./tech.html">TECH</a></li>
                    <li><a href="./story.html">STORY</a></li>
                    <li class="rectlink"><a href="./usage.html">使い方</a></li>
                </ul>
            </nav>
        </header>
        <main>
            <h1>LINE Versionの脆弱性</h1>
            <p>注意:<a href="./tech.html">仕組みが100%異なる</a>Discord Versionでは確認されていません。</p>
            <hr>
            <p>tl;dr:LINE Versionに重大な脆弱性が確認されました。「group_id」がわかれば、ウェブ上でLINEアカウントの有無を問わず当番設定の閲覧・変更ができます。</p>
            <hr>
            <h2>詳細</h2>
            <p><a href="https://youtu.be/WVavJrY8DRI?t=36" target="_blank">Toubans! 使い方動画の36秒付近</a>にて、herokuのドメイン名を発見しました。このドメインにアクセスしたところ、<a href="https://github.com/nisshi79/line-liff-starter" target="_blank">オープンソースVer.</a>と同じファイル構成が確認でき、また、mainForm.phpにアクセスすることで、当番設定の変更画面が表示できました。</p>
            <p>ソースコードを確認するとわかるように、このphpファイルにはhidden inputの形でgroup_idがありました。group_idパラメータの変更または開発者ツールにて容易に変更できます。</p>
            <p>Group IDはハッシュなので推測は困難ですが、もし流出などがあればそのグループの当番設定を変えることができ、場合によっては当番情報などから個人情報がばれる可能性があります。</p>
            <h2>解決方法</h2>
            <p>Discord版に乗り換えましょう!</p>
            <footer>
                <br>
                <div>
                    <a rel="license" href="http://creativecommons.org/licenses/by-sa/2.0/">
                        <img
                            alt="クリエイティブ・コモンズ・ライセンス"
                            style="border-width:0"
                            src="./img/cc.png"
                            width="100"
                        >
                    </a><br>
                    <span
                        xmlns:cc="http://creativecommons.org/ns#"
                        property="cc:attributionName"
                    >
                        apple502j
                    </span>
                    作『
                    <span
                        xmlns:dct="http://purl.org/dc/terms/"
                        href="http://purl.org/dc/dcmitype/Text"
                        property="dct:title"
                        rel="dct:type"
                    >
                        Toubans! Discord Version ウェブサイト
                    </span>
                    』は
                    <a
                        rel="license"
                        href="http://creativecommons.org/licenses/by-sa/2.0/"
                    >
                        クリエイティブ・コモンズ 表示 - 継承 2.0 一般 ライセンス
                    </a>
                    で提供されています。
                </div><br>
                <p>
                    ウェブサイト:<a href="https://github.io">GitHub Pages</a>
                </p>
                <p>Copyright © 2018 apple502j</p>
                <p>Thanks to 西村惟 and Kenny2github</p>
            </footer>
        </main>
</body>
</html>
